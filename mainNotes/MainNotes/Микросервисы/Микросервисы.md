### Монолит Vs Микросервисы
#### Монолит
Монолит - это приложение, в котором вся функциональность представлена одним приложением и это приложение развернуто полностью на 1 сервере. Т.е. весь наш функционал приложение находится внутри одного единственного приложения.
Также у нас 1 БД на все монолитное приложение. Т.е. разные сервисы также пишут в одну БД.

Плюсы:
- Проще разрабатывать и деплоить для маленьких команд и приложений. Т.е. если у нас какое-то небольшое приложение, то монолитом написать его проще, к тому же задеплоить также проще, поскольку задеплоить нужно всего 1 приложение, а не множество - как это было бы в микросервисах.
- Меньше cross-cutting concerns. Вся функциональность, которая НЕ относится к бизнес логике - проще! Security, auditing, logging - это все проще, поскольку все наше приложение находится на одном сервере.
- Лучшая производительность благодаря отсутствию задержек сети, по которой общаются микросервисы. В монолите для вызова какой-то другой функциональности нам нужно просто вызвать метод, а не выполнять какое-то общение по сети.
Минусы:
- Сложнее внедрять новые технологии или языки в наш проект. Если я в монолите хочу добавить новую технологию я должен либо обновить всю существующую кодовую базу для этого или остаться на старой технологии. Или если захочу перейти на последнюю версию frameworka, то мне нужно другую команду пушить, чтобы они также обновили их версию. Из-за этих причин в монолите ограниченная подвижность модулей, которые мы используем.
- Единая кодовая база, которая очень связана между собой. Какие-либо изменения в существующем коде могут повлиять на другой функционал. Из-за чего появляется проблема регрессии(когда мы что-то поменяли и это поломало уже существующий функционал, который работал ранее) и нужно дополнительно тестировать код.
- Слабая отказоустойчивость. Падение монолита = полный отказ нашей системы.
- Любое маленькое обновление и фича требуют полного деплоя всего нашего приложения.
Также есть разные варианты монолитов - но все они подвержены недостаткам, которые мы описали.
![[Pasted image 20241126170859.png]]
![[Pasted image 20241126171631.png]]
Все команды работают с одной кодовой базовой и это неудобно при ведении параллельной разработки.

#### SOA
Было предложено улучшение - SOA. В которой мы отделяем frontend и backend и создаем промежуточную шину, которая будет доставлять запросы с frontend в нужный сервис. Теперь сервисы могут разрабатываться независимо, но есть минус. Шина из воздуха не берется. Ее нужно также создавать и поддерживать. Причем open source решений нет, что требует каких-то доп затрат. Также само общение происходит не обычным HTTP, а каким-нибудь SOAP, который является сложным.
![[Pasted image 20241126171736.png]]

Благодаря этому подходу у нас есть возможность параллельно разрабывать UI и Backend слои.
![[Pasted image 20241126172101.png]]

#### Microservices
Микросервисы - небольшие самостоятельные приложения, которые мы создаем под какую-то бизнес логику. Например, микросервис для работы с карточками. Вся его работа направлена на удовлетворения этой бизнес логики. Другой микросервис может заниматься кредитами и он полностью направлен на выполнение этой бизнес логики. Причем каждый микросервис может быть задеплоен на разных серверах или контейнерах.
Плюсы:
- Проще разрабывать сам микросервис(если не задумываться об общении), тестировать, деплоить, т.к. он намного меньше монолита и направлен на решение какой-то одной проблемы.
- Каждая команда работает со своим микросервисом, может использовать те технологии, которые захочет, главное соблюдать контракт с другими командами по общению с нашим микросервисом. Также т.к. микросервисы зачастую имеют каждый свою БД, то некоторые могут использовать SQL БД, а некоторые NoSQL, что также является плюсом
- Разделение на команды по микросервисам упрощает параллельную разработку из-за меньшей связности микросервисов. 
- Более удобное горизонтальное масштабирование. Если какой-то из микросервисом имеет повышенную нагрузку, то мы можем увеличить количество инстансов этого микросервиса, а не всего приложения, как это было бы в монолите. 
Минусы:
- Сложность. Когда у нас множество отдельные приложений, которые развернуты на разных серверах и должны правильно общаться между собой - это достаточно сложная задача для выполнения
- Повышенные расходы на инфраструктуру. Когда у нас монолит, то у нас нет столько инфраструктуры вокруг него. Есть несколько копий и балансировщик. В микросервисах же у нас множество контейнеров, серверов, на которых они крутятся и за всем этим надо следить.
- Security Concerns - проблемы безопасности. В монолите у нас просто вызывались методы и никаких проблем с безопаснотью не было. В микросервисах же нам нужно обеспечивать безопасное взаимодейтвие между ними, чтобы какие-то данные, которые мы передавали в процессе общение микросервисов по сети не утекли в сеть.
![[Pasted image 20241126173737.png]]
![[Pasted image 20241126174046.png]]

![[Pasted image 20241126175029.png]]

Прикольное определение микросервиса:
![[Pasted image 20241126174959.png]]

### Почему Spring Boot - это круто?
![[Pasted image 20241126181407.png]]

