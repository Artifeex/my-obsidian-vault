![[Pasted image 20240925160002.png]]
В иерархии коллекций стоит интерфейс Iterable. Это что-то, почему можно проитерироваться. Наследником является Collection. Дальше происходит разветвление на List, Queue, Set.

У List есть 2 наследника:
- [[ArrayList]] - основан на массиве.
- [[LinkedList]] - основан на структуре данных двусвязный список.
У Queue есть 2 наследника:
- DEQUE - это очередь, в которую можно добавлять с двух сторон. Двухсторонняя очередь. У Deque две реализации LinkedList и ArrayDeque(Deque, основанный на массиве)
- PriorityQueue - поддерживает приоритет для вставляемых значений. 

Set - это множество значений. Его реализации:
- TreeSet - хранит значения упорядоченно. Под капотом используется [[TreeMap. К-Ч деревья|красно-черное дерево]]. Т.е. при итерировании(а мы можем итерироваться, поскольку реализуется интерфейс Iterable элементы будут возвращаться упорядоченно)
  ![[Pasted image 20240925161256.png]]
- HashSet - хранит уникальные значения. Под капотом работает на основе HashMap. У HashSet есть потомок LinkedHashSet. Который также работает на основе HashMap. Его особенностью является то, что он хранит ПОРЯДОК ВСТАВКИ элементов. Реализуется с помощью той же идеи, что есть в LinkedList.
- EnumSet - используется для хранение Enum. Enum там можно хранить более оптимизированно.

Map - этот интерфейс стоит опосредованно от иерархии коллекций, поскольку не наследуется от Iterable. Map - хранит пары ключ значение, поэтому его не совсем можно назвать коллекцией. Коллекции хранят список элементов, а тут получается вроде бы и список, но пар ключ и значение. Реализации:
- TreeMap - под капотом использует красно-черные деревья и хранит ключи в отсортированном порядке. Т.е. ключи должны уметь сравниваться между собой(интерфейс Comparable, либо передать Comparator при создании TreeMap).
- HashMap - работает внутри на основе хеш-таблицы. LinkedHashMap аналогично LinkedHashSet. Мы можем проитерироваться по элементам в том порядке, в котором они были вставлены в Map. Это полезно, например, в ситуациях, когда порядок отображения элементов влияет на логику программы. Для реализации кэша, т.к. можно передать в конструкторе accessOrder = true и тогда значения будут сортироваться в порядке их использования.
- HashTable - старая реализации Map. Внутри также работает на основе кэширования. Особенностью является то, что все ее методы синхронизированы. Т.е. она используется в многопоточной среде. Но лучше использовать современные потокобезопасные коллекции из java.util.concurent.

### Иерархия коллекций
Здесь не показано, но Collection interface наследуется от интерфейса Iterable.
![[Pasted image 20241022113520.png]]
Стоит заметить, что Map не входит в основную иерархию, а также Collection наследуется от интерфейса Iterable. С Java 1.6 
- TreeSet implements (NavigableSet extends SortedSet (это интерфейс NavigableSet extends интерфейс SortedSet))
- TreeMap implements [[NavigableMap]]

Рассмотрим, что такое [[Iterator]]


