![[Pasted image 20241112103815.png]]
![[Pasted image 20241112103825.png]]
В Java интерфейс `Deque` (двусторонняя очередь) представляет структуру данных, которая поддерживает добавление и удаление элементов с обеих сторон — как с начала, так и с конца. Это позволяет использовать `Deque` как очередь (FIFO) или как стек (LIFO).

Основные реализации интерфейса `Deque` в Java:

### 1. **ArrayDeque**

- **Описание**: `ArrayDeque` — это реализация `Deque`, основанная на массиве. Она гибкая и высокопроизводительная, обеспечивая эффективные операции вставки и удаления как с начала, так и с конца очереди.
- **Особенности**:
  - Динамически увеличивается при заполнении, не допускает `null`-элементов.
  - Подходит для стека и очереди, т.е., можно использовать как `push`/`pop` для стека и `offer`/`poll` для очереди.
  - В большинстве случаев быстрее, чем `LinkedList` для операций добавления и удаления в начало или конец.
  - Не является потокобезопасной (не подходит для многопоточного доступа без внешней синхронизации).
- **Использование**:
  ```java
  Deque<Integer> deque = new ArrayDeque<>();
  deque.addFirst(1);  // добавляет элемент в начало
  deque.addLast(2);   // добавляет элемент в конец
  deque.removeFirst(); // удаляет первый элемент
  deque.removeLast();  // удаляет последний элемент
  ```

### 2. **LinkedList**

- **Описание**: `LinkedList` также реализует интерфейс `Deque`, используя двусвязный список в качестве внутренней структуры данных.
- **Особенности**:
  - Поддерживает `null`-элементы.
  - Позволяет быстро добавлять и удалять элементы как с начала, так и с конца списка, но операции доступа (например, `get`) медленнее, чем в `ArrayDeque`.
  - В большинстве случаев лучше подходит для случаев, когда требуется частое удаление и добавление элементов в середине списка.
  - Может использоваться как список (имплементирует интерфейс `List`), что делает его универсальным.
  - Не является потокобезопасной.
- **Использование**:
  ```java
  Deque<String> deque = new LinkedList<>();
  deque.addFirst("first");
  deque.addLast("last");
  deque.removeFirst();
  deque.removeLast();
  ```

### 3. **ConcurrentLinkedDeque**

- **Описание**: Это неблокирующая, потокобезопасная реализация `Deque`, основанная на алгоритмах без блокировок.
- **Особенности**:
  - Потокобезопасна, подходит для многопоточной среды.
  - Основана на атомарных операциях и обеспечивает высокую производительность для конкурентного доступа.
  - Доступ к элементам осуществляется через ссылки (на основе `Linked Nodes`), что позволяет избежать блокировок при добавлении или удалении.
  - Не поддерживает `null`-элементы.
- **Использование**:
  ```java
  Deque<Integer> deque = new ConcurrentLinkedDeque<>();
  deque.addFirst(10);
  deque.addLast(20);
  deque.pollFirst();
  deque.pollLast();
  ```

### 4. **LinkedBlockingDeque**

- **Описание**: `LinkedBlockingDeque` — это блокирующая реализация `Deque`, основанная на двусвязном списке. Она поддерживает ограничение на размер очереди и может блокировать выполнение потока, если очередь заполнена (при добавлении) или пуста (при удалении).
- **Особенности**:
  - Потокобезопасна, подходит для многопоточных задач, где нужно синхронизированное добавление и удаление элементов.
  - Поддерживает ограничение размера, что позволяет управлять количеством элементов.
  - Методы блокировки (`takeFirst`, `takeLast`) ожидают, если очередь пуста или переполнена, пока элемент не станет доступен.
  - Подходит для очередей задач с блокировкой при необходимости дождаться доступных элементов.
- **Использование**:
  ```java
  Deque<String> deque = new LinkedBlockingDeque<>(10); // очередь с максимальным размером 10
  deque.putFirst("first");  // блокируется, если очередь заполнена
  deque.putLast("last");    // блокируется, если очередь заполнена
  deque.takeFirst();        // блокируется, если очередь пуста
  deque.takeLast();         // блокируется, если очередь пуста
  ```

### Краткое сравнение реализаций

| Реализация             | Потокобезопасность | Поддержка `null` | Основание  | Особенности |
|------------------------|--------------------|-------------------|------------|-------------|
| **ArrayDeque**         | Нет               | Нет              | Массив     | Быстрая, динамическая, подходит для одиночного потока. |
| **LinkedList**         | Нет               | Да               | Двусвязный список | Универсальная структура, реализует `Deque` и `List`. |
| **ConcurrentLinkedDeque** | Да            | Нет              | Ссылки     | Высокая производительность в многопоточной среде. |
| **LinkedBlockingDeque** | Да               | Нет              | Двусвязный список | Блокирующие операции, подходит для очередей задач. |

### Заключение

Каждая реализация интерфейса `Deque` имеет свои особенности и предназначена для разных случаев. Например, `ArrayDeque` и `LinkedList` подходят для однопоточных операций, `ConcurrentLinkedDeque` и `LinkedBlockingDeque` — для многопоточных сред с необходимостью синхронизации.

