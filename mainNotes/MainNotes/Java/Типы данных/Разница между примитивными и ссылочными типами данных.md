![[Pasted image 20240925141014.png]]

Объекты, которые мы создаем хранятся в Heap Memory. В Thread Stack же хранится ссылка на область памяти в Heap, в которой хранится сам объект. И может быть такое, что переменная из разных потоков, т.е. находящаяся в разныз Thread Stack-ах будет ссылаться на один и тот же объект в Heap.

Примитивы же хранятся на стеке данного потока. Т.е. когда мы создаем локальную переменную [[Примитивные типы данных|примитивного типа]], то память для ее хранения выделяется на стеке. 

Но, важно заметить, что примитив может храниться в Heap, если он является полем какого-то объекта. Это часто спрашивают, может ли примитив хранится в Heap? Да, он может храниться в Heap, если он является частью объекта.

Один объект, может ссылаться на другой объект в Heap. Т.е. в объекте также хранится ссылка на объект в Heap, а не целый объект.

Локальные переменные методов также хранятся в стеке.
В Java статические переменные (или переменные класса) хранятся в области памяти, которая относится к метаданным класса, то есть в Metaspace.
Важно отметить, что сами объекты, на которые могут ссылаться статические переменные (если это не примитивные типы), находятся в heap (куче).