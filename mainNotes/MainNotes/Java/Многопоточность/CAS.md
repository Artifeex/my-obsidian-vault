Операция **CAS (Compare-And-Swap)** — это атомарная операция, которая используется для реализации неблокирующих алгоритмов в многопоточной среде. Она позволяет обновлять значение переменной только в том случае, если это значение соответствует ожидаемому, обеспечивая тем самым защиту от состояния гонки между потоками.

### Как работает операция CAS

Операция CAS принимает три аргумента:

1. **Адрес (Memory Location):** переменная, которую нужно обновить.
2. **Ожидаемое значение (Expected Value):** значение, которое мы ожидаем увидеть в этой переменной.
3. **Новое значение (New Value):** значение, которое нужно записать, если текущее значение переменной совпадает с ожидаемым.

CAS работает так:

- Если текущее значение переменной совпадает с ожидаемым значением, операция атомарно заменяет его на новое значение.
- Если текущее значение **не совпадает** с ожидаемым, операция ничего не меняет и сообщает, что замена не произошла.

Важной особенностью CAS является то, что она выполняется атомарно — т.е. изменение значения переменной гарантированно завершится целиком без прерываний другими потоками. Это позволяет избежать использования блокировок и снизить накладные расходы на синхронизацию.

CAS используется в [[ConcurrentHashMap]], в [[Atomic Types]]. 