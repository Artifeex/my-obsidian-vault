Воспользуемся возможностью создания объекта на основе yaml формата. Правила: 
1. должны соблюдать одинаковые значения в названии поля в классе и ключа в yaml. 
2. Должны соблюдать вложенность.
3. Класс должен быть [[POJO]].
Создадим класс на основе yaml файла:
![[Pasted image 20240905121123.png]]

Этому классу мы еще добавим аннотации @Data и @NoArgsConstructor. Вложенному классу также добавим эти аннотации.

2 варианта, чтобы SpringBoot смаппил нашу сущность из yaml в bean в java. 
1. Использовать @ConfigurationProperties(prefix="db") над созданием бина DatabaseProperties, который мы описывали выше. В prefix указываем тот префикс в yaml, внутри которого находится описание нашей сущности. В нашем случае, все поля находились внутри префикса "db"

![[Pasted image 20240905153237.png]]

2. Используем эту же аннотацию, но над классом, а также добавляем @Component. Тогда не нужно явно создавать bean внутри @Configuration класса.  
   ![[Pasted image 20240905153641.png]]
   Чтобы не указывать @Component можно подключить @ConfigurationPropertiesScan. Она будет заниматься сканированием всех классов у которых есть @ConfigurationProperties.
   ![[Pasted image 20240905153826.png]]
3. Дополнение. Если хотим immutable объект, т.е. чтобы все поля были final, тогда
   ![[Pasted image 20240905154119.png]] или с использованием record:![[Pasted image 20240905154245.png]]
