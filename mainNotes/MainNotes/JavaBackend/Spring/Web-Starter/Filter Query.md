На текущий момент мы возвращаем сразу всех пользователь и делаем fullscan нашей таблицы, что на самом деле плохо, если записей будет, например, миллион.
![[Pasted image 20240913123508.png]]
Поэтому нужно реализовать фильтр для пользователей. У нас уже написан фильтр для queryDsl.
![[Pasted image 20240913123647.png]]
Создадим в Controllere метод, который принимает UserFilter. Внутри userService же мы используем этот фильтр, чтобы возвращать не всех людей, а только тех, кто удовлетворяет фильтрации. А для этого используется уровень репозитория, в котором используется [[Query Dsl]]
![[Pasted image 20240913123825.png]]
Теперь осталось переделать View и написать форму, в которой будем указывать параметры для фильтрации.
![[Pasted image 20240913124322.png]]
Результат:
![[Pasted image 20240913124412.png]]

Но несмотря на то, что мы сделали фильтрацию, все еще может вернуться огромное количество записей, поэтому нужно реализовать пагинацию. [[Pagination Best Practices]]