Научимся писать тесты для наших контроллеров.
![[Pasted image 20240913104553.png]]
Используя MockMvc мы можем имулировать выполнение запросов на наши контроллеры, а потом, с помощью andExpect проверяять то, что хотим, используя ResultMatcher.
![[Pasted image 20240913105341.png]]
Правило хорошего тона говорит о том, чтобы мы выключали open-in-view. Эта настройка включает автоматическое открытие транзакций на уровне контроллеров! А мы хотим, чтобы транзакции открывались на уровне сервисов, поэтому и выключаем эту настройку.
![[Pasted image 20240913105554.png]]
Тестируем CREATE метод:
![[Pasted image 20240913110225.png]]

[[Type converters]]