При запуске тестов мы использовали реальную БД, которая работала у нас локально на компьютере. Но, если мы захотим запустить тесты на тестовом environment, то там уже такой БД не будет. А это, значит, что при старте тестов мы должны поднимать какую-то тестовую БД, выполнять тесты и потом тушить эту БД.

И есть несколько вариантов поднятия БД.
1. Это использовать In memory БД. К таким относится H2.
2. Поднимать точно такую же БД, что мы используем(в нашем случае posgres), на ней накатывать все скрипты и выполнять наши тесты. Это является более предпочтительным, поскольку в таком случае мы обезопашиваем себя от различия БД на продакшене и в тестовой среде. Вторым плюсом является то, что в in memory БД может не поддерживаться какие-то типы данных, которые мы используем. И самое главное - в тестах БД должна быть максимально похожа на БД на проде. Реализовывается этот способ за счет использования докер контейнеров.

[[In memory DB. H2]] - реализация первого варианта.
[[TestContainers]] - реализация второго варианта.

