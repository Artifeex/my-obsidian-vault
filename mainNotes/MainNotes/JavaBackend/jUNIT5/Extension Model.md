В jUNIT5 мы можем внедряться в [[Жизненный цикл тестов|жизненный цикл тестов]], используя Extension Model.
![[Pasted image 20240905191757.png]]
1. Обработать исключения, которые могли выпасть в тестовом методе.
2. Подкрутить тестовый инстанс(создается для каждого теста)
3. Условие на запуск или скип теста
4. DI в jUNIT5 для внедрения зависимостей. Все тоже самое, что умеет делать Spring. Он есть и в jUNIT5
5. Можем внедряться в жизненный цикл с помощью коллбеков.\

Каждый коллбек является просто функциональным интерфейсом, который нужно реализовать. После того, как реализовали это в нашем классе, то используя @ExtendWith(MyClass.class) - добавляем так наш класс в Extension Model jUNIT5.
![[Pasted image 20240905192234.png]]

Например, MockitoExtension:
![[Pasted image 20240905192549.png]]
BeforeEachCallback - создает [[Mock]] объекты для полей тестового класса, которые мы пометили @Mock.
AfterEachCallback - очищает Mock объекты.
ParameterResolver - DI механизм для инъекции Mock объектов в конструктор или аргументы методов.
