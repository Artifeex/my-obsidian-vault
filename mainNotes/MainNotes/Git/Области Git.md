В git существуют 3 области, в которых могут находиться файлы:
![[Pasted image 20241013195555.png]]
working directory - та область гит, в которой мы работаем. Т.е. те папки и файлы, которые мы видим в папке с гит репозиторием(локальным).

Индекс(staging area) - это та область, в которую попадают файлы, которым мы собираемся сохранить. Мы можем добавить в working directory несколько файлов. Но при этом в новой версии мы хотим сохранить только 1 файл, а не все. И такой файл, который мы хотим сохранить и добавляется в индекс. И после добавления в эту область мы подготовили файл для сохранения. В staging area также добавляются файлы, которые мы поменяли и потом решили, что в новой версии должна быть измененная версия. С помощью команды `git status` можно посмотреть состояния индекса.
![[Pasted image 20241013200422.png]]

repository - в репозиторий мы и записываем файлы, которые сохранили в staging area. Это то, что находиться в папке .git. Внутри этой папки есть папка objects, в которой сохраняются все версии тех или иных файлов нашего проекта. Также в репозитории сохрнаются коммиты - указатил на определенные версии нашего проекта.

 Папка objects находится внутри .git. Все объекты git находятся в папке objects. Файлы имеют уникальные названия - это хеш объекта, который считается по определенной формуле. В подпапке в objects сохраняются разные версии одного и того же файла. Т.е. мы написали файл, загрузили его в git репозиторий, создался объект гит, у которого имя получилось из хэша. Дальше мы изменили этот файл и решили опять загрузить в гит. Снова создался еще один объект в гит, уже с другим именем(снова рассчитался хэш) и также сохранился в репозиторий. 
![[Pasted image 20241013200623.png]]

### Рабочий процесс в гит(как файлы перемещаются между этими областями)
В рабочую директорию файлы добавляем самостоятельно. Чтобы добавить в индекс используем команду `git add <имя файла/или можно поставить . тогда будет все изменения>`. И чтобы добавить файлы из индекса в репозиторий используется команда `git commit`. После этого создается новый объект commit в .git/objects. Коммит указывает на текущую версию проекта. 
![[Pasted image 20241013201817.png]]
С помощью git checkout мы можем переходить к определенной версии проекта. Тогда гит возьмет и перенесет объекты из репозитория в наше рабочую директорию. Таким образом, содержимое рабочий директории перезапишется. 

### Статусы отслеживания файлов
![[Pasted image 20241013202017.png]]
- Untracked - те файлы, которые добавили в рабочую директорию, которые мы еще не добавляли в индекс.
- Staged - присваивается тем файлам, которые мы добавили в индекс. Т.е. файл переходит из untracked в staged с помощью команды `git add`
- Unmodified - в такой статус перейдут файлы, которые были в Staged и мы их добавили в репозиторий. А также в таком статусе будут другие файлы, которые мы не меняли и они совпадают с версией в репозитории.
- Modified - когда изменили файл, который был в репозитории. Их также можно переносить в индекс и тогда они будут в состоянии Staged. После сохранения файлов в репозитории, то они снова становятся Unmodified.