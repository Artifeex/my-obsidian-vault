Используется для выборки данных.

По правилу хорошо тона каждое название столбца с новой строки, а так же можно задавать alias для колонки, чтобы при выводе эта колонка называлась по-другому. Т.е. даем ей псевдоним, который удобен нам, а не тому, кто создавал табличку и давал ей названия колонок.
Так же есть возможность задвать alias для таблицы.

![[Pasted image 20240927102856.png]]

### DISTINCT - используется, если мы хотим, чтобы выбрались только уникальные значения.
Видим, что вывелось две строчки с одинаковым значением first_name:
![[Pasted image 20240927103022.png]]
А теперь используем DISTINCT:
![[Pasted image 20240927103120.png]]
Видим, что теперь все значения по колонке f_name уникальные.

### LIMIT - ограничить выборку(сколько строк из SELECT максимум мы можем получить)
![[Pasted image 20240927103216.png]]
### OFFSET - сколько строк из выборки пропустить.
![[Pasted image 20240927103251.png]]
Зачем использовать ? LIMIT - для того, чтобы получать только небольшое количество данных, например, в интернет магазине нам не нужно сразу же отображать пользователю все товары, а нужно только небольшое количество. С помощью LIMIT можно это сделать. А когда пользователь переходит на следующую страничку, то мы из БД забираем еще некоторое количество записей. Номера страничек мы можем регулировать как раз с помощью OFFSET, т.е. пропускать те записи, которые пользователь уже видел.

Но их нельзя использовать без сортировки, так как при SELEFT FROM порядок не гарантируется - он случайным. Поэтому нужно использовать сортировку.

### ORDER BY - для сортировки
По умолчанию сортировка по возрастанию. Если хотим поубыванию, то используем DESC.
![[Pasted image 20240927103400.png]]
Можно сортировать по нескольким колонкам одновременно. Сначала будет сортировка по имени и если два человека будут иметь одно и то же имя, то их уже сортируем по зарплате:
![[Pasted image 20240927103505.png]]
### WHERE - используется для фильтрации данных
![[Pasted image 20240927103439.png]]
Для дат и чисел можно использовать :
- >
- <
- ≠ <>
- =

Для строк можно проверить на равенство с помощью

- = LIKE(чувситвителен к регистру) ILIKE(не чувствителен к регистру)
- ≠

Для соединение нескольких условий используется:
- or 
- and 
- приоритет у AND выше, чем у OR

Если хотим проверить, что некоторая строка имеет у себя подстроку, то используем ключевое слово LIKE.
![[Pasted image 20240927103640.png]]
% - любое количество любых символов.

Работает после соединение. Т.е. сначала JOIN, а потом только WHERE.
### BETWEEN - если хотим проверить число или дату, что она лежит в указанном диапазоне. В примере ниже salary от 1000 до 1500
![[Pasted image 20240927103734.png]]
### IN - для проверки принадлежности некоторому множеству значений, которое передается внутри (). В запросе снизу выбирутся только те, у кого зп 1000, 1100, 2000
![[Pasted image 20240927103809.png]]
### IS - для проверки того, что колонка является NULL. На равенство NULL нельзя сравнивать

Также в SELECT активно используются [[Агрегирующие функции]]

### Объединение выборок. UNION
Когда хотим сделать, например, два запроса и объединить их результат в результирующей таблице.
![[Pasted image 20240927110109.png]]
И в итоговой таблице будет результат этих двух запросов. Но есть ограничения в виде того, что количество колонок должно быть одинаковым и они должны иметь один и тот же тип.
При этом если были дубликаты, т.е. получили одну и ту же строку при первом запросе и такую же при втором, то обе эти строки добавятся. Если хотим избавиться от дубликатов, то используем просто UNION.

Также в SELECT активно используется [[Подзапросы]].